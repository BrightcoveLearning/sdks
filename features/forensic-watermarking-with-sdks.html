---
title: "Forensic Watermarking with the Native SDKs"
description: "In this topic, you will learn how to use the Brightcove Native SDKs to deliver videos protected with Forensic Watermarking."
parent: Features
grandparent: Home
layout: staging
---

<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  
  <br/>
  <aside class="bcls-aside bcls-aside--tip">This feature is available for a specific set of customers with access to the Limited Availability phase of Forensic Watermarking.</aside>

  <section class="bcls-section">
    <h2 id="Introduction">Introduction</h2>
    <p>
      With Forensic Watermarking, you can protect your premium content from piracy and unauthorized content sharing. This feature adds an invisible watermark to your videos, allowing you to track any content leaks.
    </p>
    <p>For more information, see the <a href="">Overview: Forensic Watermarking</a> document.</p>
  </section>

  <section class="bcls-section">
    <h2 id="Requirements">Requirements</h2>
    <p>The following requirements are needed to support this feature:</p>
    <h3>Setup</h3>
    <p>There are setup requirements in addition to configuring your player. For details, see the <a href="">Overview: Forensic Watermarking</a> document.</p>

    <h3>Device OS version</h3>
    <ul>
      <li>Android 6.0 and newer</li>
      <li>iOS 11.0 and newer</li>
    </ul>

    <h3>Brightcove SDK version</h3>
    <ul>
      <li>Native SDK for Android 6.16.3 and newer</li>
      <li>Native SDK for iOS 6.9.0 and newer</li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Using_Playback_Rights_Android">Android Implementation</h2>
    <p>Configuration for Forensic Watermarking is performed at the Video level.</p>
    
    <ol class="bcls-tasklist-restart">
      <li>
        <p>The player must be integrated with your registration system so that a Viewer ID is passed on the analytics web beacon (in the <code translate="No">user</code> field).</p>
        <p>For example:</p>
  <pre class="line-numbers"><code class="language-java" translate="No">HashMap&lt;String, String&gt; baseParams = new HashMap&lt;&gt;();
  baseParams.put(Analytics.Fields.USER, &quot;viewer id&quot;);
  baseParams.put(Analytics.Fields.APPLICATION_ID, &quot;application id&quot;);
  
  HashMap&lt;String, Object&gt; eventParams = new HashMap&lt;&gt;();
  eventParams.put(Analytics.Fields.BASE_PARAMS, baseParams);
  eventEmitter.emit(EventType.ADD_ANALYTICS_BASE_PARAMS, eventParams);          
</code></pre>
      </li>
      <li>
        <p>
          <p>In the player Activity’s <code translate="No">onCreate</code> method, add this call, before any Catalog calls to retrieve your video or playlist:</p>
          <pre><code class="language-java" translate="No">VideoUtil.setWatermarkingToken(yourWatermarkingToken);
</code></pre>
        </p>
      </li>
      <li>
        <p>With this call in place, when the Catalog retrieves the Video metadata from the Playback API, the <code translate="No">VideoUtil</code> class will replace the watermarking token placeholder <code translate="No">{WMT}</code> with the token value, wherever it may occur in the Video’s source URLs.</p>
      </li>
    </ol>
    <!-- <h3>Example</h3>
    <p>Here is an example that shows how to pass your watermarking token when making a Catalog request:</p>
    <pre class="line-numbers"><code class="language-java" translate="No">String myToken = &quot;your watermark token&quot;;
  HttpRequestConfig httpRequestConfig = new HttpRequestConfig.Builder()
    .setBrightcoveWatermarkingToken(myToken)
    .build();
  &hellip;
  
  Catalog catalog = new Catalog(eventEmitter, accountId, policyKey, playbackApiBaseUrl);
  catalog.findVideoByReferenceID(videoReferenceId, httpRequestConfig, new VideoListener(){...});              
    </code></pre> -->

    <h3>Offline Playback</h3>
    <p>
      Offline playback should work as usual once the video is downloaded.
    </p>

    <p>
      For details, see the <a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-exoplayer/OfflinePlaybackSampleApp/src/main/java/com/brightcove/player/samples/offlineplayback/MainActivity.java">Offline Playback sample app</a>.
    </p>

  </section>

  <section class="bcls-section">
    <h2 id="iOS_Implementation">iOS Implementation</h2>
    <p>
      To configure a player to use Forensic Watermarking, follow these steps:
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>The player must be integrated with your registration system so that a Viewer ID is passed on the analytics web beacon (in the <code translate="No">user</code> field).</p>
        <p>Here, you'll provide values for user ID and application ID:</p>
        <pre class="line-numbers"><code class="language-objectivec" translate="No">@try
  {
    [BCOVGlobalConfiguration.sharedConfig setValue:@{
      @&quot;privateUser&quot;: @&quot;your user id&quot;,
      @&quot;privateApplication&quot;: @&quot;your application id&quot;
    }
    forKey:@&quot;privateSessionAnalytics&quot;];
  }
  @catch (NSException *e)
  {
    NSLog(@&quot;%@&quot;, e.description);
  }       
</code></pre>
      </li>
      <li>
        <p>As part of the Brightcove catalog request for a single video or a playlist, you will provide your Nagra watermark token. This is done using the <code translate="No">watermarkingToken</code>  parameter.</p>
        <p>Add your watermarking token to the request parameters.</p>
        <pre class="line-numbers"><code class="language-objectivec" translate="No">/**
* The watermarking token for use with Forensic Watermarking
*/
@property (nonatomic, copy) NSString *watermarkingToken;
...
NSDictionary *parameters =
    @{
        @&quot;watermarkingToken&quot;: @watermarkingToken
    };      
</code></pre>
      </li>
      <li>
        <p>Make your request to the Brightcove catalog for a single video or a playlist, using the updated parameters.</p>
        <p>For a video request:</p>
<pre class="line-numbers"><code class="language-objectivec" translate="No">- (void)findVideoWithVideoID:(NSString *)videoID parameters:
  (NSDictionary *)parameters completion:(void (^)
  (BCOVVideo *video, NSDictionary *jsonResponse, NSError *error))completionHandler;
</code></pre>
        <p>For a playlist request:</p>
<pre class="line-numbers"><code class="language-objectivec" translate="No">- (void)findPlaylistWithPlaylistID:(NSString *)playlistID parameters:
  (NSDictionary *)parameters completion:(void (^)
  (BCOVPlaylist *playlist, NSDictionary *jsonResponse, NSError *error))completionHandler;
</code></pre>   
      </li>
    </ol>
    <p>For details, see the Forensic Watermarking section of the Native SDK for iOS reference.</p>

    <h3>Offline Playback</h3>
    <p>Offline playback should work as usual once the video is downloaded.</p>

    <p>
      For details, see the <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/OfflinePlayback.md#renewing-a-fairplay-license">Renewing a FairPlay License</a> section of the Native SDK for iOS reference.
    </p>
  </section> 

  <section class="bcls-section">
    <h2 id="Limitations">Limitations</h2>
    <p>For details about the limitations for this feature, see the <a href="">Overview: Forensic Watermarking</a> document.</p>
  </section>

</article>

